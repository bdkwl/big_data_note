## SQL提数和分析

### 前期准备

**对数据有一点感觉的基础上，再把问题的拆解模块构思一次，哪些点不好做，有个预期**

一般来说，在正式编写提取数据的SQL语句，要花时间去做：

- 哪些数据表、哪份日志
- 筛选条件
- 之前有什么坑
- 现在是否有坑：SQL语句先运行一个核心数据检查


遇到“坑”之后，一定要文档详细记下来

- 让团队其他人知道，节省团队时间
- 每月总结时，知道自己在哪里花了大量时间，为后续做分析节省时间

---

### 如何分析 —— 结构分析
举个例子，从下图图表得出结论：新增用户渠道DE占比60%

![结构分析](https://raw.githubusercontent.com/bdkwl/big_data_note/master/%E4%B8%93%E9%A2%98%E5%88%86%E6%9E%90%E6%A0%87%E5%87%86%E5%8C%96%E6%B5%81%E7%A8%8B/%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96%E5%8F%8A%E5%88%86%E6%9E%90-%E7%BB%93%E6%9E%84%E5%88%86%E6%9E%90.png)

### 如何分析 —— 对比分析
所有的数据只有对比才有意义。如：

- 每年的双11都会与之前的双11进行消费额对比
- 实际工作中，最常见的对比对象是大盘。如新上线一个功能，怎么评估这个功能效果，除了看功能使用人数，更加要做的是这个功能的留存和大盘的留存对比
- 需要看自身APP跟竞品的重合用户，与自身APP的所有用户在客户端内的消费差异，从而针对这些重合用户，做针对性运营

### 如何分析 —— 时间序列二次拆解分析
一般看某指标时，都会把时序周期拉长，看数据趋势，而数据是波动的，所有都会进行拆解分析，寻找具体波动项。

举例：新增用户的次日留存近半年出现下降，需要进行渠道维度拆解分析，发现是因为某个渠道的下降导致新增用户整体下降

![时间序列拆解](https://raw.githubusercontent.com/bdkwl/big_data_note/master/%E4%B8%93%E9%A2%98%E5%88%86%E6%9E%90%E6%A0%87%E5%87%86%E5%8C%96%E6%B5%81%E7%A8%8B/%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96%E5%8F%8A%E5%88%86%E6%9E%90-%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E5%88%86%E6%9E%90.png)

### 如何分析 —— 相关性分析
举例，落地项：该地区用户整体更加偏爱高价格产品，可进一步优化产品结构，产品偏高端。

![相关性分析](https://raw.githubusercontent.com/bdkwl/big_data_note/master/%E4%B8%93%E9%A2%98%E5%88%86%E6%9E%90%E6%A0%87%E5%87%86%E5%8C%96%E6%B5%81%E7%A8%8B/%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96%E5%8F%8A%E5%88%86%E6%9E%90-%E7%9B%B8%E5%85%B3%E6%80%A7%E5%88%86%E6%9E%90.png)

### 如何分析 —— 机器学习
通过代码编程输出分析结果

![机器学习](https://raw.githubusercontent.com/bdkwl/big_data_note/master/%E4%B8%93%E9%A2%98%E5%88%86%E6%9E%90%E6%A0%87%E5%87%86%E5%8C%96%E6%B5%81%E7%A8%8B/%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96%E5%8F%8A%E5%88%86%E6%9E%90-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0.png)

找到切入点：开通月数和电子支付这两个变量非常重要

### 如何分析 —— 总结
所有分析都是基于用户的基础属性和行为属性

**从5W1H出发，每次分析都可以作为模板来展开**

- Who：用户基础属性
- Where：渠道分析
- When：时间特征
- What：使用了什么，哪些行为更加重要
- Why：用户为什么要这么做，是主动还是被动
- How：怎么做的，行为路径是什么

---

## 最后
提数和分析完成后，把一些关键数据和初步结论同步给业务方核对

- 怎么理解这个数据，有无明显问题
- 基于这些数据结论，准备怎么落地，需要提前想方案

在基础上再撰写报告







